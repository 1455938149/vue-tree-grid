webpackJsonp([2,0],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(5),c=o(i),s=n(17),r=o(s),l=n(14),a=o(l);n(11),c.default.use(a.default),new c.default({el:"body",components:{App:r.default}})},,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports=" <div id=app> <tree-grid :items=data :columns=columns @on-row-click=rowClick @on-selection-change=selectionClick @on-sort-change=sortClick></tree-grid> </div> "},function(e,t){e.exports=' <table class="table table-bordered" id=hl-tree-table> <thead> <tr> <th v-for="(index, column) in cloneColumns"> <checkbox :checked.sync=checks @click.prevent=handleCheckAll v-if="column.type === \'selection\'"></checkbox> <label v-else> {{{ renderHeader(column, $index) }}} <span class=ivu-table-sort v-if=column.sortable> <icon type=arrow-up-b :class="{on: column._sortType === \'asc\'}" @click="handleSort($index, \'asc\')"></icon> <icon type=arrow-down-b :class="{on: column._sortType === \'desc\'}" @click="handleSort($index, \'desc\')"></icon> </span> </label> </th> </tr> </thead> <tbody> <tr v-for="(index, item) in initItems" v-show=show(item) :class="{\'child-tr\':item.parent}"> <td v-for="column in columns"> <checkbox-group :model.sync=checkGroup @on-change=checkAllGroupChange v-if="column.type === \'selection\'"> <checkbox :value=item.id><span style=display:none>&nbsp;</span></checkbox> </checkbox-group> <div v-if="column.type === \'action\'"> <i-button :type=action.type size=small @click=RowClick(item,index,$event) v-for="action in column.actions">{{action.text}}</i-button> </div> <label @click=toggle(index,item) v-if=!column.type> <span v-if="$index==1"> <i v-if="item.children&&item.children.length>0" class=ivu-icon :class="{\'ivu-icon-plus-circled\':!item.expanded,\'ivu-icon-minus-circled\':item.expanded }"></i> <i v-else class=ms-tree-space></i> {{{item.spaceHtml}}} </span> {{{renderBody(item,column) }}} </label> </td> </tr> </tbody> </table> '},function(e,t,n){var o,i,c={};n(12),o=n(19),i=n(15),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var s="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(s.template=i),s.computed||(s.computed={}),Object.keys(c).forEach(function(e){var t=c[e];s.computed[e]=function(){return t}})},function(e,t,n){var o,i,c={};n(13),o=n(20),i=n(16),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var s="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(s.template=i),s.computed||(s.computed={}),Object.keys(c).forEach(function(e){var t=c[e];s.computed[e]=function(){return t}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),c=o(i);t.default={data:function(){return{columns:[{type:"selection"},{title:"编码",key:"code",sortable:!0},{title:"名称",key:"name"},{title:"状态",key:"status"},{title:"备注",key:"remark"},{title:"操作",type:"action",actions:[{type:"primary",text:"编辑"}]}],data:[{id:"1",code:"0001",name:"测试数据1",status:"启用",remark:"测试数据测试数据"},{id:"2",code:"0002",name:"测试数据2",status:"启用",remark:"测试数据测试数据",children:[{id:"01",code:"00001",name:"测试数据01",status:"启用",remark:"测试数据测试数据"},{id:"02",code:"00002",name:"测试数据02",status:"启用",remark:"测试数据测试数据"}]},{id:"3",code:"0003",name:"测试数据3",status:"启用",remark:"测试数据测试数据"},{id:"4",code:"0004",name:"测试数据4",status:"启用",remark:"测试数据测试数据"}]}},components:{TreeGrid:c.default},methods:{rowClick:function(e,t,n){console.log("当前行数据:"+e),console.log("点击行号:"+t),console.log("点击事件:"+n)},selectionClick:function(e){console.log("选中数据id数组:"+e)},sortClick:function(e,t){console.log("排序字段:"+e),console.log("排序规则:"+t)}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),c=o(i);t.default={name:"treeGrid",props:{columns:Array,items:Array},data:function(){return{initItems:[],cloneColumns:[],checkGroup:[],checks:!1}},watch:{items:function(){this.items&&(this.checks=!1,this.initData(this.items,1,null))},columns:{handler:function(){this.cloneColumns=this.makeColumns()},deep:!0}},ready:function(){this.items&&(this.initData(this.items,1,null),this.cloneColumns=this.makeColumns())},methods:{handleSort:function(e,t){this.cloneColumns.forEach(function(e){return e._sortType="normal"}),this.cloneColumns[e]._sortType===t?this.cloneColumns[e]._sortType="normal":this.cloneColumns[e]._sortType=t,this.$emit("on-sort-change",this.cloneColumns[e].key,this.cloneColumns[e]._sortType)},RowClick:function(e,t,n){this.$emit("on-row-click",e,t,n)},makeColumns:function(){var e=this.deepCopy(this.columns);return e.forEach(function(e,t){e._index=t,e._width=e.width?e.width:"",e._sortType="normal"}),e},initData:function(e,t,n){var o=this;this.initItems=[];for(var i="",s=1;s<t;s++)i+="<i class='ms-tree-space'></i>";e.forEach(function(e,s){e=(0,c.default)({},e,{parent:n,level:t,spaceHtml:i}),"undefined"==typeof e.expanded&&(e=(0,c.default)({},e,{expanded:!1})),"undefined"==typeof e.show&&(e=(0,c.default)({},e,{isShow:!1})),e=(0,c.default)({},e,{load:!!e.expanded}),o.initItems.push(e),e.children&&e.expanded&&o.initData(e.children,t+1,e)})},show:function(e){return 1==e.level||e.parent&&e.parent.expanded&&e.isShow},toggle:function(e,t){for(var n=this,o=t.level+1,i="",s=1;s<o;s++)i+="<i class='ms-tree-space'></i>";t.children&&(t.expanded?(t.expanded=!t.expanded,this.close(e,t)):(t.expanded=!t.expanded,t.load?this.open(e,t):(t.load=!0,t.children.forEach(function(s,r){n.initItems.splice(e+r+1,0,s),n.initItems[e+r+1]=(0,c.default)({},n.initItems[e+r+1],{parent:t,level:o,spaceHtml:i,isShow:!0,expanded:!1})}))))},open:function(e,t){var n=this;t.children&&t.children.forEach(function(t,o){t.isShow=!0,t.children&&n.open(e+o+1,t.children)})},close:function(e,t){var n=this;t.children&&t.children.forEach(function(t,o){t.isShow=!1,t.children&&n.close(e+o+1,t.children)})},handleCheckAll:function(){this.checks=!this.checks,this.checks?this.checkGroup=this.checkGroup.concat(this.All(this.items)):this.checkGroup=[],this.$emit("on-selection-change",this.checkGroup)},checkAllGroupChange:function(e){e.length===this.items.length?this.checks=!0:this.checks=!1,this.$emit("on-selection-change",this.checkGroup)},All:function(e){var t=this,n=[];return e.forEach(function(e){n.push(e.id),e.children&&e.children.length>0&&(n=n.concat(t.All(e.children)))}),n},renderHeader:function(e,t){return"renderHeader"in this.columns[t]?this.columns[t].renderHeader(e,t):e.title||"#"},renderBody:function(e,t,n){return e[t.key]},deepCopy:function(e){var t,n,o,i=this.type(e);if("array"===i)t=[];else{if("object"!==i)return e;t={}}if("array"===i){for(n=0,o=e.length;n<o;n++)t.push(this.deepCopy(e[n]));return t}if("object"===i){for(n in e)t[n]=this.deepCopy(e[n]);return t}},type:function(e){var t=Object.prototype.toString,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return n[t.call(e)]}}}}]);
//# sourceMappingURL=app.b2b61d90bd23d82b9115.js.map